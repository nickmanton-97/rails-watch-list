<h1><%= @list.name %></h1>
<p><%= @list.description %></p>

<h2>Bookmarks</h2>
<ul class="list-group mb-3">
  <% @list.bookmarks.each do |bookmark| %>
    <% if bookmark.movie %>
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <div>
          <strong><%= bookmark.movie.title %></strong> - <%= bookmark.comment %>
        </div>
        <%= button_to "Delete", list_bookmark_path(@list, bookmark),
                    method: :delete,
                    form_class: "d-inline",
                    data: { turbo_confirm: "Are you sure?" },
                    class: "btn btn-sm btn-danger" %>
      </li>
    <% end %>
  <% end %>
</ul>

<h3>Add a Movie</h3>
<%= simple_form_for [@list, @bookmark] do |f| %>
  <%= f.input :movie_id, collection: Movie.all, label_method: :title, value_method: :id, prompt: "Select a movie" %>
  <%= f.input :comment %>
  <%= f.submit "Add Movie", class: "btn btn-primary" %>
<% end %>

<%= link_to "Back to all lists", lists_path, class: "btn btn-secondary mt-3" %>
